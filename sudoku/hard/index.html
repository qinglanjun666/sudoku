<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script>
      (function(){
        var isLocal = location.hostname === 'localhost' || location.hostname === '127.0.0.1'
        if (isLocal) return
        var s = document.createElement('script')
        s.async = true
        s.src = 'https://www.googletagmanager.com/gtag/js?id=G-LX4B214LBK'
        document.head.appendChild(s)
        window.dataLayer = window.dataLayer || []
        function gtag(){ dataLayer.push(arguments) }
        window.gtag = gtag
        gtag('js', new Date())
        gtag('config', 'G-LX4B214LBK')

      })()
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5101109858499684" crossorigin="anonymous"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hard Sudoku Online - Advanced Puzzles for Pros | LogicForSudoku.com</title>
    <meta name="description" content="Take on the challenge with our Hard Sudoku puzzles. Designed for advanced players, these grids require logical techniques like X-Wing and Swordfish. No guessing, just pure logic. Test your limits today!" />
    <link rel="canonical" href="/sudoku/hard/" />
    <meta name="robots" content="index, follow" />
    <meta property="og:title" content="Hard Sudoku Online - Advanced Puzzles for Pros | LogicForSudoku.com" />
    <meta property="og:description" content="Take on the challenge with our Hard Sudoku puzzles. Designed for advanced players, these grids require logical techniques like X-Wing and Swordfish. No guessing, just pure logic. Test your limits today!" />
    <meta property="og:image" content="/assets/favicon.png" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Hard Sudoku Online - Advanced Puzzles for Pros | LogicForSudoku.com" />
    <meta name="twitter:description" content="Take on the challenge with our Hard Sudoku puzzles. Designed for advanced players, these grids require logical techniques like X-Wing and Swordfish. No guessing, just pure logic. Test your limits today!" />
    <meta name="twitter:image" content="/assets/favicon.png" />
    <link rel="icon" href="/assets/favicon.png" type="image/png" />
    <link rel="stylesheet" href="/src/index.css?v=7" />
    <style>
      /* Sudoku Styles */
      :root {
        --color-bg-body: #ffffff;
        --color-btn-primary: #0072e3;
        --color-btn-hover: #005bb7;
        
        /* Sudoku Board Colors */
        --color-cell-bg: #ffffff;
        --color-cell-related: #e8f1f8; /* Bg Highlight (Peer) */
        --color-cell-same-value: #c8dced; /* Bg Same Number */
        --color-cell-selected: #b3d9ff; /* Bg Selected */
        --color-cell-error-source: #f9d7db; /* Bg Error */
        
        --color-text-given: #34495e; /* Text Primary */
        --color-text-input: #0072e3; /* Keep input blue for distinction, or use #34495e if strict */
        --color-text-error: #e74c3c; /* Text Error */
        
        --grid-line-thick: 2px solid #2c3e50; /* Border Primary */
        --grid-line-thin: 1px solid #d6e1ea; /* Border Secondary */

        /* Size Variables */
        --board-size: 600px;
        --number-size: 32px;
        --note-size: 10px;
      }

      * {
        box-sizing: border-box;
      }

      body {
        background-color: var(--color-bg-body);
        font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        color: #333;
        margin: 0;
      }

      .main-wrap {
        padding: 64px 0 40px 0;
      }

      .sudoku-container {
        max-width: 650px;
        margin: 0 auto;
        padding: 0 10px;
      }

      /* Breadcrumbs removed - using global */

      /* Title Section */
      .game-title-section {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        margin-bottom: 15px;
        margin-top: 40px;
      }

      .game-title {
        font-size: 36px;
        font-weight: 700;
        color: #2c3e50;
        margin: 0;
        display: flex;
        align-items: baseline;
        gap: 8px;
      }

      .version-tag {
        font-size: 16px;
        color: #95a5a6;
        font-weight: 400;
      }

      .size-btn {
        position: absolute;
        right: 0;
        background: #fff;
        border: 1px solid #e0e0e0;
        padding: 6px 15px;
        border-radius: 6px;
        font-size: 14px;
        color: #333;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.2s;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
      }

      .size-btn:hover {
        background: #f8f9fa;
        border-color: #ccc;
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      }

      /* Top Bar */
      .sudoku-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 0 10px 0; /* Remove side padding, add bottom */
        background: transparent;
        border-bottom: none;
      }
      
      .header-left {
        display: flex;
        gap: 10px;
      }

      /* .dropdown-btn styles moved to index.css */

      .dropdown-container {
        position: relative;
      }

      .dropdown-menu {
        display: none;
        position: absolute;
        top: 110%;
        left: 0;
        z-index: 1000;
        background: #fff;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 5px 0;
        min-width: 120px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      }

      .dropdown-item {
        display: block;
        padding: 6px 15px;
        color: #333;
        text-decoration: none;
        font-size: 14px;
      }

      .dropdown-item:hover {
        background: #f5f5f5;
        color: var(--color-btn-primary);
      }
      
      .dropdown-menu.show {
        display: block;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .timer {
        font-family: 'Roboto Mono', monospace;
        font-size: 1.1rem;
        color: #555;
        font-weight: 500;
      }

      .icon-btn {
        background: transparent;
        color: #7f8c8d;
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        transition: color 0.2s, background 0.2s;
      }
      
      .icon-btn:hover {
        background: #eee;
        color: #333;
      }

      /* Grid */
      .game-main {
        padding: 0;
        display: flex;
        justify-content: center;
        margin-bottom: 15px;
      }

      .sudoku-grid {
        display: grid;
        box-sizing: border-box;
        border: var(--grid-line-thick);
        background-color: var(--color-bg-body); 
        gap: 0;
        width: var(--board-size);
        max-width: 100%;
        margin: 0 auto;
        /* box-shadow removed to fix border visibility issues */
      }

      .sudoku-cell {
        aspect-ratio: 1;
        background-color: var(--color-cell-bg);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--number-size);
        overflow: hidden; /* Ensure content doesn't overflow or stretch grid */
        cursor: pointer;
        user-select: none;
        border-right: var(--grid-line-thin);
        border-bottom: var(--grid-line-thin);
        position: relative;
        transition: background-color 0.05s;
        box-sizing: border-box;
      }
      
      .sudoku-cell.has-notes {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        font-size: var(--note-size);
        color: #7f8c8d;
        padding: 2px;
      }

      /* Highlighting Classes */
      .sudoku-cell.cell-related {
        background-color: var(--color-cell-related);
      }
      
      .sudoku-cell.cell-same-value {
        background-color: var(--color-cell-same-value);
      }

      .sudoku-cell.cell-selected {
        background-color: var(--color-cell-selected) !important;
      }

      .sudoku-cell.cell-error-source {
        background-color: var(--color-cell-error-source) !important;
      }

      .sudoku-cell.val-given {
        color: var(--color-text-given);
        font-weight: 500;
      }

      .sudoku-cell.val-input {
        color: var(--color-text-input);
        font-weight: 500;
      }

      .sudoku-cell.text-error {
        color: var(--color-text-error) !important;
      }

      /* Instructions */
      .instruction-text {
        text-align: center;
        color: #999;
        margin-bottom: 10px;
        font-size: 14px;
        font-weight: 400;
      }

      /* Keypad */
      #numPad {
        display: flex !important;
        grid-template-columns: none !important;
        justify-content: center;
        gap: 10px;
        margin-bottom: 25px;
        padding: 0;
      }

      #numPad .btn {
        width: 40px;
        height: 40px;
        background: #fff;
        border: 1px solid #ccc;
        color: var(--color-btn-primary);
        font-size: 20px;
        font-weight: 500;
        border-radius: 4px; /* Square buttons */
        transition: all 0.1s;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
      }
      
      #numPad .btn:hover {
        background-color: var(--color-btn-primary);
        color: #fff;
        border-color: var(--color-btn-primary);
      }

      /* Controls Row (Pencil) */
      .controls-row {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
        font-size: 0.9rem;
        color: #666;
      }

      .pencil-check {
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        user-select: none;
      }

      #clearNotesLink {
        color: #999;
        text-decoration: underline;
        font-size: 0.85rem;
      }
      
      #clearNotesLink:hover {
        color: #666;
      }

      /* Action Buttons */
      .action-buttons {
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .btn-row {
        display: flex;
        justify-content: center;
        gap: 12px;
      }

      .action-btn {
        background: var(--color-btn-primary); /* Main color consistency */
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 500;
        flex: 1;
        max-width: 140px;
        font-size: 14px;
        transition: all 0.2s;
        box-shadow: 0 2px 4px rgba(74, 144, 226, 0.3); /* Subtle shadow matching blue */
      }

      .action-btn:hover {
        background: var(--color-btn-hover);
        box-shadow: 0 4px 8px rgba(74, 144, 226, 0.4);
        transform: translateY(-1px);
      }
      
      /* Hide old layout elements */
      .game-header, .game-side {
        display: none;
      }

      /* Modal Styles */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s;
      }

      .modal-overlay.show {
        opacity: 1;
        pointer-events: auto;
      }

      .modal-content {
        background: #fff;
        width: 400px;
        max-width: 90%;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        overflow: hidden;
        animation: slideIn 0.2s ease-out;
      }

      @keyframes slideIn {
        from { transform: translateY(-20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      .modal-header {
        padding: 15px 20px;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .modal-header h2 {
        margin: 0;
        font-size: 18px;
        color: #333;
      }

      .close-btn {
        background: none;
        border: 1px solid #333;
        font-size: 20px;
        cursor: pointer;
        color: #333;
        padding: 0;
        width: 24px;
        height: 24px;
        line-height: 22px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 2px;
      }
      
      .close-btn:hover {
        background: #eee;
      }

      .modal-body {
        padding: 20px;
      }

      .setting-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .setting-row:last-child {
        margin-bottom: 0;
      }

      .setting-row label {
        font-weight: 600;
        font-size: 14px;
        color: #333;
      }

      .radio-group {
        display: flex;
        gap: 15px;
      }

      .radio-group label {
        font-weight: 400;
        color: #555;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 5px;
      }
      
      input[type="radio"] {
        accent-color: var(--color-btn-primary);
        transform: scale(1.1);
      }

      .modal-footer {
        padding: 15px 20px;
        border-top: 1px solid #eee;
        display: flex;
        justify-content: flex-end;
        gap: 10px;
      }

      .btn-save {
        background: #105995;
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
        font-size: 14px;
      }

      .btn-save:hover {
        background: #0d4a7d;
      }

      .btn-cancel {
        background: #6a4c82; /* Dark purple from image */
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
        font-size: 14px;
      }

      .btn-cancel:hover {
        background: #553d68;
      }

      @media print {
        header, #site-header, .breadcrumb, .sudoku-header, .instruction-text, #numPad, .action-buttons, .sudoku-tutorial, #site-footer, .size-btn, .dropdown-container, .btn-daily-challenge, .timer-container, .game-title-section button {
          display: none !important;
        }
        body, .main-wrap, .sudoku-container {
          background: #fff;
          margin: 0;
          padding: 0;
          max-width: 100%;
        }
        .game-title-section {
          margin-top: 0;
          margin-bottom: 20px;
        }
        .game-title {
          font-size: 24px;
          justify-content: center;
        }
        .sudoku-grid {
          margin: 0 auto;
          border: 2px solid #000;
          width: 500px !important;
          box-shadow: none;
        }
        .sudoku-cell {
          color: #000 !important;
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
        }
      }

    </style>
  </head>
  <body>
    <header>
      <div id="site-header"></div>
    </header>
    <main class="main-wrap">
      <div class="container page-fit">
        <nav class="breadcrumb"><a href="/index.html">Home</a><span>></span><a href="/sudoku/index.html">Sudoku</a><span>></span><span class="crumb-middle">Hard Sudoku</span></nav>
        
        <div class="sudoku-container">
          <!-- Title Section -->
          <div class="game-title-section">
            <h1 class="game-title">Hard Sudoku</h1>
          </div>

          <!-- Top Bar -->
          <div class="sudoku-header">
            <div class="header-left">
              <div class="dropdown-container" id="difficultyDropdown">
                <button class="dropdown-btn" onclick="toggleDropdown()">Hard <span class="arrow">▼</span></button>
                <div class="dropdown-menu" id="difficultyMenu">
                  <a href="/sudoku/easy/" class="dropdown-item">Easy</a>
                  <a href="/sudoku/medium/" class="dropdown-item">Medium</a>
                  <a href="/sudoku/hard/" class="dropdown-item active">Hard</a>
                  <a href="/sudoku/six/" class="dropdown-item">6x6</a>
                </div>
              </div>
              <button class="dropdown-btn" onclick="toggleSizeModal(true)">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
                Size
              </button>
              <a href="/sudoku/daily/" class="btn-daily-challenge">Daily Challenge</a>
            </div>
            <div class="header-right timer-container">
              <div class="timer-left">
                <svg class="timer-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                <div id="timerDisplay" class="timer-val">00:00:00</div>
              </div>
              <div class="timer-divider"></div>
              <div class="timer-controls">
                <button class="timer-btn" id="toggleTimerBtn" title="Toggle Timer"></button>
                <button class="timer-btn" id="resetBtn" title="Restart">
                   <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- Grid -->
          <div class="game-main">
            <div class="sudoku-grid" id="grid"></div>
          </div>

          <!-- Instructions -->
          <p class="instruction-text">Choose a number, and place it in the grid above.</p>

          <!-- Keypad -->
          <div id="numPad"></div>

          <!-- Action Buttons -->
          <div class="action-buttons">
            <div class="btn-row">
              <button id="undoBtn" class="action-btn">Undo</button>
              <button id="notesBtn" class="action-btn">Notes</button>
              <button id="hintBtn" class="action-btn">Hint</button>
              <button id="showSolutionBtn" class="action-btn">Show Solution</button>
              <button id="resetActionBtn" class="action-btn">Reset</button>
            </div>
            <div class="btn-row">
              <button id="newPuzzle" class="action-btn">New Game</button>
              <button id="printBtn" class="action-btn" onclick="window.print()">Print</button>
            </div>
          </div>

          <!-- Tutorial Section -->
          <section class="sudoku-tutorial">
            <h2 class="tutorial-title">Hard Sudoku: The Ultimate Battle of Logic</h2>
            <p class="tutorial-intro">
              Hard Sudoku is designed for players who have mastered the fundamentals and are ready to push their cognitive boundaries. At this level, the initial clues are often stripped down to just 20 to 25 numbers, leaving the grid looking dauntingly empty.
            </p>
            <p class="tutorial-desc">
              Solving a Hard Sudoku is no longer a linear process of discovery. It is a deep strategic game of inference and logical chains. You are no longer just looking for where a number "is"—you are deducing where a number "cannot be."
            </p>

            <h2 class="tutorial-title" style="margin-top: 40px;">Advanced Techniques for Hard Sudoku</h2>
            <p class="tutorial-intro">
              When standard scanning and basic pairs fail to yield progress, you must deploy these high-level logical "weapons":
            </p>

            <div class="tutorial-card">
              <h3 class="card-title">1. The X-Wing</h3>
              <p class="card-text">
                The X-Wing is the gateway to advanced Sudoku strategy. It relies on finding a pattern across two rows and two columns.
              </p>
              <p class="card-text" style="margin-top: 10px;">
                <strong>The Logic:</strong> If a specific number (e.g., 9) appears as a candidate in only two positions in Row A, and those positions align perfectly with the only two possible positions for 9 in Row B, you have formed a rectangle.
              </p>
              <p class="card-text" style="margin-top: 10px;">
                <strong>The Result:</strong> Since the 9 must occupy the corners of this rectangle diagonally, you can safely eliminate the number 9 from every other cell in those two columns.
              </p>
            </div>

            <div class="tutorial-card">
              <h3 class="card-title">2. The Swordfish</h3>
              <p class="card-text">
                Think of the Swordfish as the X-Wing's more powerful older brother, involving three rows and three columns.
              </p>
              <p class="card-text" style="margin-top: 10px;">
                <strong>The Logic:</strong> If a number appears as a candidate in only two or three spots across three different rows, and all those spots fall within the same three columns, you’ve trapped that number in a logical grid.
              </p>
              <p class="card-text" style="margin-top: 10px;">
                <strong>The Result:</strong> You can remove that number from any other cells in those three columns, often breaking open a stuck puzzle.
              </p>
            </div>

            <div class="tutorial-card">
              <h3 class="card-title">3. The Y-Wing (Bent Triple)</h3>
              <p class="card-text">
                This technique uses a pivot cell to create a "pincer" effect across the board.
              </p>
              <p class="card-text" style="margin-top: 10px;">
                <strong>The Logic:</strong> Look for three cells that each contain only two candidates (bi-value cells). For example: Cell A (1,2), Cell B (1,3), and Cell C (2,3). If Cell A is the "pivot" that sees both B and C, then no matter if A is 1 or 2, either B or C must result in a 3.
              </p>
              <p class="card-text" style="margin-top: 10px;">
                <strong>The Result:</strong> Any cell that is visible to both "pincer" cells (B and C) cannot contain a 3. Removing that 3 usually triggers a chain reaction of new moves.
              </p>
            </div>

            <h2 class="tutorial-title" style="margin-top: 40px;">Habits of Elite Players</h2>

            <div class="tutorial-card">
              <h3 class="card-title">Full Candidate Marking</h3>
              <p class="card-text">
                At this level, mental tracking is impossible. Accurately noting every possible candidate for every empty cell is the mandatory foundation for identifying advanced patterns.
              </p>
            </div>

            <div class="tutorial-card">
              <h3 class="card-title">Identifying Logical Chains</h3>
              <p class="card-text">
                Hard puzzles require finding "Links"—specifically Strong Links (if one is false, the other must be true). Connecting these links allows you to build XY-Chains that can eliminate candidates across the entire grid.
              </p>
            </div>

            <div class="tutorial-card">
              <h3 class="card-title">Embracing the "Stall"</h3>
              <p class="card-text">
                The joy of Hard Sudoku is the "Aha!" moment after a long stalemate. Deleting a single tiny candidate through a complex X-Wing often causes the entire puzzle to collapse into a satisfying solve.
              </p>
            </div>
          </section>
        </div>

      </div>
    </main>
    <div id="site-footer"></div>

    <!-- Size Modal -->
    <div id="sizeModal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Size Settings</h2>
          <button class="close-btn" onclick="toggleSizeModal(false)">×</button>
        </div>
        <div class="modal-body">
          <div class="setting-row">
            <label>Board</label>
            <div class="radio-group">
              <label><input type="radio" name="boardSize" value="small"> Small</label>
              <label><input type="radio" name="boardSize" value="medium"> Medium</label>
              <label><input type="radio" name="boardSize" value="large" checked> Large</label>
            </div>
          </div>
          <div class="setting-row">
            <label>Numbers</label>
            <div class="radio-group">
              <label><input type="radio" name="numSize" value="small"> Small</label>
              <label><input type="radio" name="numSize" value="medium" checked> Medium</label>
              <label><input type="radio" name="numSize" value="large"> Large</label>
            </div>
          </div>
          <div class="setting-row">
            <label>Possibility Numbers</label>
            <div class="radio-group">
              <label><input type="radio" name="noteSize" value="small" checked> Small</label>
              <label><input type="radio" name="noteSize" value="medium"> Medium</label>
              <label><input type="radio" name="noteSize" value="large"> Large</label>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-save" onclick="saveSizeSettings()">Save settings</button>
          <button class="btn-cancel" onclick="toggleSizeModal(false)">Cancel</button>
        </div>
      </div>
    </div>

    <script>
      const diff = 'hard';
    </script>
    <script src="/src/layout.js"></script>
    <script src="/src/game.js?v=11"></script>
    <script src="/src/records.js"></script>
    <script>
      function toggleDropdown() {
        const menu = document.getElementById('difficultyMenu');
        menu.classList.toggle('show');
      }

      window.onclick = function(event) {
        if (!event.target.matches('.dropdown-btn') && !event.target.matches('.dropdown-btn *')) {
          var dropdowns = document.getElementsByClassName("dropdown-menu");
          for (var i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if (openDropdown.classList.contains('show')) {
              openDropdown.classList.remove('show');
            }
          }
        }
      }
      
      // Modal Logic for Size
      function toggleSizeModal(show) {
        const modal = document.getElementById('sizeModal');
        if (show) modal.classList.add('show');
        else modal.classList.remove('show');
      }

      function saveSizeSettings() {
        const boardSize = document.querySelector('input[name="boardSize"]:checked').value;
        const numSize = document.querySelector('input[name="numSize"]:checked').value;
        const noteSize = document.querySelector('input[name="noteSize"]:checked').value;
        
        // Apply settings (this would typically save to localStorage and update CSS vars)
        // For now, we can just log or update CSS vars directly if needed.
        // Actually, let's update CSS vars to demonstrate.
        const root = document.documentElement;
        if (boardSize === 'small') root.style.setProperty('--board-size', '400px');
        else if (boardSize === 'medium') root.style.setProperty('--board-size', '500px');
        else root.style.setProperty('--board-size', '600px');

        if (numSize === 'small') root.style.setProperty('--number-size', '24px');
        else if (numSize === 'medium') root.style.setProperty('--number-size', '28px');
        else root.style.setProperty('--number-size', '32px');

        if (noteSize === 'small') root.style.setProperty('--note-size', '10px');
        else if (noteSize === 'medium') root.style.setProperty('--note-size', '12px');
        else root.style.setProperty('--note-size', '14px');

        toggleSizeModal(false);
      }
    </script>
  </body>
</html>
