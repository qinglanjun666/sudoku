<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script>
      (function(){
        var isLocal = location.hostname === 'localhost' || location.hostname === '127.0.0.1'
        if (isLocal) return
        var s = document.createElement('script')
        s.async = true
        s.src = 'https://www.googletagmanager.com/gtag/js?id=G-LX4B214LBK'
        document.head.appendChild(s)
        window.dataLayer = window.dataLayer || []
        function gtag(){ dataLayer.push(arguments) }
        window.gtag = gtag
        gtag('js', new Date())
        gtag('config', 'G-LX4B214LBK')

      })()
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5101109858499684" crossorigin="anonymous"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Easy Sudoku — Logic for Sudoku</title>
    <meta name="description" content="Solve Easy Sudoku puzzles online. No instructions needed." />
    <link rel="canonical" href="/sudoku/easy/" />
    <meta name="robots" content="index, follow" />
    <meta property="og:title" content="Easy Sudoku — Logic for Sudoku" />
    <meta property="og:description" content="Solve Easy Sudoku puzzles online. No instructions needed." />
    <meta property="og:image" content="/favicon.svg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Easy Sudoku — Logic for Sudoku" />
    <meta name="twitter:description" content="Solve Easy Sudoku puzzles online. No instructions needed." />
    <meta name="twitter:image" content="/favicon.svg" />
    <link rel="stylesheet" href="/src/index.css?v=2" />
    <style>
      /* Sudoku Styles */
      :root {
        --color-bg-body: #ffffff;
        --color-btn-primary: #0072e3;
        --color-btn-hover: #005bb7;
        
        /* Sudoku Board Colors */
        --color-cell-bg: #ffffff;
        --color-cell-related: #e8f1f8; /* Bg Highlight (Peer) */
        --color-cell-same-value: #c8dced; /* Bg Same Number */
        --color-cell-selected: #b3d9ff; /* Bg Selected */
        --color-cell-error-source: #f9d7db; /* Bg Error */
        
        --color-text-given: #34495e; /* Text Primary */
        --color-text-input: #0072e3; /* Keep input blue for distinction, or use #34495e if strict */
        --color-text-error: #e74c3c; /* Text Error */
        
        --grid-line-thick: 2px solid #2c3e50; /* Border Primary */
        --grid-line-thin: 1px solid #d6e1ea; /* Border Secondary */

        /* Size Variables */
        --board-size: 600px;
        --number-size: 32px;
        --note-size: 10px;
      }

      * {
        box-sizing: border-box;
      }

      body {
        background-color: var(--color-bg-body);
        font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        color: #333;
        margin: 0;
      }

      .main-wrap {
        padding: 64px 0 40px 0;
      }

      .sudoku-container {
        max-width: 650px;
        margin: 0 auto;
        padding: 0 10px;
      }

      /* Breadcrumbs removed - using global */

      /* Title Section */
      .game-title-section {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        margin-bottom: 15px;
        margin-top: 40px;
      }

      .game-title {
        font-size: 36px;
        font-weight: 700;
        color: #2c3e50;
        margin: 0;
        display: flex;
        align-items: baseline;
        gap: 8px;
      }

      .version-tag {
        font-size: 16px;
        color: #95a5a6;
        font-weight: 400;
      }

      .size-btn {
        position: absolute;
        right: 0;
        background: #fff;
        border: 1px solid #e0e0e0;
        padding: 6px 15px;
        border-radius: 6px;
        font-size: 14px;
        color: #333;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.2s;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
      }

      .size-btn:hover {
        background: #f8f9fa;
        border-color: #ccc;
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      }

      /* Top Bar */
      .sudoku-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 0 10px 0; /* Remove side padding, add bottom */
        background: transparent;
        border-bottom: none;
      }
      
      .header-left {
        display: flex;
        gap: 10px;
      }

      .dropdown-btn {
        background: transparent;
        color: #333;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-radius: 20px; /* Pill shape */
        font-weight: 500;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 14px;
        transition: all 0.2s;
      }
      
      .dropdown-btn:hover {
        border-color: var(--color-btn-primary);
        color: var(--color-btn-primary);
        background: #fff;
      }

      .dropdown-container {
        position: relative;
      }

      .dropdown-menu {
        display: none;
        position: absolute;
        top: 110%;
        left: 0;
        z-index: 1000;
        background: #fff;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 5px 0;
        min-width: 120px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      }

      .dropdown-item {
        display: block;
        padding: 6px 15px;
        color: #333;
        text-decoration: none;
        font-size: 14px;
      }

      .dropdown-item:hover {
        background: #f5f5f5;
        color: var(--color-btn-primary);
      }

      /* .dropdown-container:hover .dropdown-menu {
        display: block;
      } Removed to avoid conflict with click logic */
      
      .dropdown-menu.show {
        display: block;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .timer {
        font-family: 'Roboto Mono', monospace;
        font-size: 1.1rem;
        color: #555;
        font-weight: 500;
      }

      .icon-btn {
        background: transparent;
        color: #7f8c8d;
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        transition: color 0.2s, background 0.2s;
      }
      
      .icon-btn:hover {
        background: #eee;
        color: #333;
      }

      /* Grid */
      .game-main {
        padding: 0;
        display: flex;
        justify-content: center;
        margin-bottom: 15px;
      }

      .sudoku-grid {
        display: grid;
        box-sizing: border-box;
        border: var(--grid-line-thick);
        background-color: var(--color-bg-body); 
        gap: 0;
        width: var(--board-size);
        max-width: 100%;
        margin: 0 auto;
        /* box-shadow removed to fix border visibility issues */
      }

      .sudoku-cell {
        aspect-ratio: 1;
        background-color: var(--color-cell-bg);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: var(--number-size);
        overflow: hidden; /* Ensure content doesn't overflow or stretch grid */
        cursor: pointer;
        user-select: none;
        border-right: var(--grid-line-thin);
        border-bottom: var(--grid-line-thin);
        position: relative;
        transition: background-color 0.05s;
        box-sizing: border-box;
      }
      
      .sudoku-cell.has-notes {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        font-size: var(--note-size);
        color: #7f8c8d;
        padding: 2px;
      }

      /* Highlighting Classes */
      .sudoku-cell.cell-related {
        background-color: var(--color-cell-related);
      }
      
      .sudoku-cell.cell-same-value {
        background-color: var(--color-cell-same-value);
      }

      .sudoku-cell.cell-selected {
        background-color: var(--color-cell-selected) !important;
      }

      .sudoku-cell.cell-error-source {
        background-color: var(--color-cell-error-source) !important;
      }

      .sudoku-cell.val-given {
        color: var(--color-text-given);
        font-weight: 500;
      }

      .sudoku-cell.val-input {
        color: var(--color-text-input);
        font-weight: 500;
      }

      .sudoku-cell.text-error {
        color: var(--color-text-error) !important;
      }

      /* Instructions */
      .instruction-text {
        text-align: center;
        color: #999;
        margin-bottom: 10px;
        font-size: 14px;
        font-weight: 400;
      }

      /* Keypad */
      #numPad {
        display: flex !important;
        grid-template-columns: none !important;
        justify-content: center;
        gap: 10px;
        margin-bottom: 25px;
        padding: 0;
      }

      #numPad .btn {
        width: 40px;
        height: 40px;
        background: #fff;
        border: 1px solid #ccc;
        color: var(--color-btn-primary);
        font-size: 20px;
        font-weight: 500;
        border-radius: 4px; /* Square buttons */
        transition: all 0.1s;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
      }
      
      #numPad .btn:hover {
        background-color: var(--color-btn-primary);
        color: #fff;
        border-color: var(--color-btn-primary);
      }

      /* Controls Row (Pencil) */
      .controls-row {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
        font-size: 0.9rem;
        color: #666;
      }

      .pencil-check {
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        user-select: none;
      }

      #clearNotesLink {
        color: #999;
        text-decoration: underline;
        font-size: 0.85rem;
      }
      
      #clearNotesLink:hover {
        color: #666;
      }

      /* Action Buttons */
      .action-buttons {
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .btn-row {
        display: flex;
        justify-content: center;
        gap: 12px;
      }

      .action-btn {
        background: var(--color-btn-primary); /* Main color consistency */
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 500;
        flex: 1;
        max-width: 140px;
        font-size: 14px;
        transition: all 0.2s;
        box-shadow: 0 2px 4px rgba(74, 144, 226, 0.3); /* Subtle shadow matching blue */
      }

      .action-btn:hover {
        background: var(--color-btn-hover);
        box-shadow: 0 4px 8px rgba(74, 144, 226, 0.4);
        transform: translateY(-1px);
      }
      
      /* Specific override for Check/Hint to stand out slightly if desired, or keep uniform */

      /* Hide old layout elements */
      .game-header, .game-side {
        display: none;
      }

      /* Modal Styles */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s;
      }

      .modal-overlay.show {
        opacity: 1;
        pointer-events: auto;
      }

      .modal-content {
        background: #fff;
        width: 400px;
        max-width: 90%;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        overflow: hidden;
        animation: slideIn 0.2s ease-out;
      }

      @keyframes slideIn {
        from { transform: translateY(-20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      .modal-header {
        padding: 15px 20px;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .modal-header h2 {
        margin: 0;
        font-size: 18px;
        color: #333;
      }

      .close-btn {
        background: none;
        border: 1px solid #333;
        font-size: 20px;
        cursor: pointer;
        color: #333;
        padding: 0;
        width: 24px;
        height: 24px;
        line-height: 22px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 2px;
      }
      
      .close-btn:hover {
        background: #eee;
      }

      .modal-body {
        padding: 20px;
      }

      .setting-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .setting-row:last-child {
        margin-bottom: 0;
      }

      .setting-row label {
        font-weight: 600;
        font-size: 14px;
        color: #333;
      }

      .radio-group {
        display: flex;
        gap: 15px;
      }

      .radio-group label {
        font-weight: 400;
        color: #555;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 5px;
      }
      
      /* Custom Radio Style optional, default is fine */
      input[type="radio"] {
        accent-color: var(--color-btn-primary);
        transform: scale(1.1);
      }

      .modal-footer {
        padding: 15px 20px;
        border-top: 1px solid #eee;
        display: flex;
        justify-content: flex-end;
        gap: 10px;
      }

      .btn-save {
        background: #105995;
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
        font-size: 14px;
      }

      .btn-save:hover {
        background: #0d4a7d;
      }

      .btn-cancel {
        background: #6a4c82; /* Dark purple from image */
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
        font-size: 14px;
      }

      .btn-cancel:hover {
        background: #553d68;
      }

    </style>
  </head>
  <body>
    <header>
      <div id="site-header"></div>
    </header>
    <main class="main-wrap">
      <div class="container page-fit">
        <nav class="breadcrumb"><a href="/index.html">Home</a><span>></span><a href="/sudoku/index.html">Sudoku</a><span>></span><span class="crumb-middle">Easy Sudoku</span></nav>
        
        <div class="sudoku-container">
          <!-- Title Section -->
          <div class="game-title-section">
            <h1 class="game-title">Easy Sudoku</h1>
            <button class="size-btn" onclick="toggleSizeModal(true)">Size</button>
          </div>

          <!-- Top Bar -->
          <div class="sudoku-header">
            <div class="header-left">
              <div class="dropdown-container" id="difficultyDropdown">
                <button class="dropdown-btn" onclick="toggleDropdown()">Easy <span class="arrow">▼</span></button>
                <div class="dropdown-menu" id="difficultyMenu">
                  <a href="/sudoku/easy/" class="dropdown-item active">Easy</a>
                  <a href="/sudoku/medium/" class="dropdown-item">Medium</a>
                  <a href="/sudoku/hard/" class="dropdown-item">Hard</a>
                  <a href="/sudoku/six/" class="dropdown-item">6x6</a>
                </div>
              </div>
              <button id="newPuzzle" class="dropdown-btn">New Game</button>
              <a href="/sudoku/daily/" class="dropdown-btn" style="text-decoration:none; margin-left:10px;">Daily</a>
            </div>
            <div class="header-right">
              <div id="timerDisplay" class="timer">00:00:00</div>
              <button class="icon-btn" id="toggleTimerBtn" title="Toggle Timer">||</button>
              <button class="icon-btn" id="resetBtn" title="Restart">↻</button>
            </div>
          </div>

          <!-- Grid -->
          <div class="game-main">
            <div class="sudoku-grid" id="grid"></div>
          </div>

          <!-- Instructions -->
          <p class="instruction-text">Choose a number, and place it in the grid above.</p>

          <!-- Keypad -->
          <div id="numPad"></div>

          <!-- Pencil Mode -->
          <div class="controls-row">
            <label class="pencil-check">
              <input type="checkbox" id="noteModeCheckbox">
              This number is a possibility
            </label>
            <a href="#" id="clearNotesLink">(Clear Possibilities)</a>
          </div>

          <!-- Action Buttons -->
          <div class="action-buttons">
            <div class="btn-row">
              <button id="undoBtn" class="action-btn">Undo</button>
              <button id="checkBtn" class="action-btn">Check Moves</button>
              <button id="hintBtn" class="action-btn">Hint</button>
              <button id="showPossibilitiesBtn" class="action-btn">Show Possibilities</button>
            </div>
            <div class="btn-row">
              <button id="solverBtn" class="action-btn">Solver</button>
              <button id="loadGameBtn" class="action-btn">Load Game</button>
              <button id="showSolutionBtn" class="action-btn">Show Solution</button>
              <button id="redoBtn" class="action-btn">Reset</button> <!-- Mapping Reset to Clear Entries (redoBtn in old logic was Clear) -->
            </div>
          </div>
        </div>

      </div>
    </main>
    <div id="site-footer"></div>

    <!-- Size Modal -->
    <div id="sizeModal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Size Settings</h2>
          <button class="close-btn" onclick="toggleSizeModal(false)">×</button>
        </div>
        <div class="modal-body">
          <div class="setting-row">
            <label>Board</label>
            <div class="radio-group">
              <label><input type="radio" name="boardSize" value="small"> Small</label>
              <label><input type="radio" name="boardSize" value="medium"> Medium</label>
              <label><input type="radio" name="boardSize" value="large" checked> Large</label>
            </div>
          </div>
          <div class="setting-row">
            <label>Numbers</label>
            <div class="radio-group">
              <label><input type="radio" name="numSize" value="small"> Small</label>
              <label><input type="radio" name="numSize" value="medium" checked> Medium</label>
              <label><input type="radio" name="numSize" value="large"> Large</label>
            </div>
          </div>
          <div class="setting-row">
            <label>Possibility Numbers</label>
            <div class="radio-group">
              <label><input type="radio" name="noteSize" value="small" checked> Small</label>
              <label><input type="radio" name="noteSize" value="medium"> Medium</label>
              <label><input type="radio" name="noteSize" value="large"> Large</label>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-save" onclick="saveSizeSettings()">Save settings</button>
          <button class="btn-cancel" onclick="toggleSizeModal(false)">Cancel</button>
        </div>
      </div>
    </div>

    <script>
      const diff = 'easy';
    </script>
    <script src="/src/layout.js"></script>
    <script src="/src/game.js?v=5"></script>
    <script src="/src/records.js"></script>
    <script>
      function toggleDropdown() {
        const menu = document.getElementById('difficultyMenu');
        if (menu) menu.classList.toggle('show');
      }

      // Close dropdown when clicking outside
      window.addEventListener('click', function(e) {
        const container = document.getElementById('difficultyDropdown');
        const menu = document.getElementById('difficultyMenu');
        if (container && menu && !container.contains(e.target)) {
          menu.classList.remove('show');
        }
        
        // Close modal when clicking outside content
        const modal = document.getElementById('sizeModal');
        if (modal && e.target === modal) {
            toggleSizeModal(false);
        }
      });

      // Size Modal Logic
      function toggleSizeModal(show) {
        const modal = document.getElementById('sizeModal');
        if (modal) {
          if (show) modal.classList.add('show');
          else modal.classList.remove('show');
        }
      }

      function saveSizeSettings() {
        const root = document.documentElement;
        
        // Board Size Calculation
        // New border width: 2px thick lines.
        // Total width = (9 * CellSize) + (2 * 3) + (1 * 6) ... No wait, CSS Grid gap is 0, borders are on cells.
        // With `box-sizing: border-box` and CSS Grid:
        // The container width simply dictates the cell size.
        // However, to avoid sub-pixel rendering blur, we want total width to be divisible by 9 perfectly if possible?
        // Actually, current implementation uses `width: var(--board-size)` on grid container.
        // Let's stick to the previous pixel-perfect logic but update comments/values if needed.
        // Previous logic: (CellSize * 9) + 6px (for 3px borders?).
        // Current borders: Outer 2px, Inner Block 2px, Cell 1px.
        // Grid is just a container.
        
        const boardVal = document.querySelector('input[name="boardSize"]:checked').value;
        let boardSize = '600px'; 
        // Large: 600px / 9 = 66.66px per cell. 
        // If we want integers: 9 * 66 = 594px. + 6px (borders?) = 600.
        
        if (boardVal === 'small') boardSize = '450px'; // 50px * 9 = 450px
        else if (boardVal === 'medium') boardSize = '522px'; // 58px * 9 = 522px
        else boardSize = '594px'; // 66px * 9 = 594px
        
        // Note: With 2px borders, we might want slightly more room? 
        // Actually, CSS Grid `repeat(9, 1fr)` will split the available space.
        // If we use multiples of 9, we get clean integer pixel widths for cells (excluding borders).
        // 450 / 9 = 50px
        // 522 / 9 = 58px
        // 594 / 9 = 66px
        
        root.style.setProperty('--board-size', boardSize);

        // Number Size (Target 50-60% of cell height)
        const numVal = document.querySelector('input[name="numSize"]:checked').value;
        // Base cell heights: Small(50), Medium(58), Large(66)
        // We should probably scale number size based on board size too?
        // The current implementation has separate controls for Number Size.
        // Let's respect the user's choice but tune the values.
        
        let numSize = '36px'; // Default Medium
        if (numVal === 'small') numSize = '28px'; 
        else if (numVal === 'large') numSize = '42px';
        root.style.setProperty('--number-size', numSize);

        // Note Size
        const noteVal = document.querySelector('input[name="noteSize"]:checked').value;
        let noteSize = '10px';
        if (noteVal === 'medium') noteSize = '12px';
        else if (noteVal === 'large') noteSize = '14px';
        root.style.setProperty('--note-size', noteSize);

        toggleSizeModal(false);
      }
    </script>
  </body>
</html>
